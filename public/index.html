<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta lang="tl">
		<meta name="author" content="Sean Bagongon">
		<meta name="description" content="Mas alamin ang wikang Tagalog sa madaling paraan. Isang mobile webgame.">
		<meta name="theme-color" content="#0f5fff">
		<meta name="color-scheme" content="normal">
		<link rel="shortcut icon" href="icon/16.png">
		<link rel="manifest" href="manifest.webmanifest">
		<link rel="stylesheet" href="asset/font.css">
		<title>Tagalogy - Liksi ng Isip</title>
		<style>
			body {
				margin: 0;
				font-family: "ComicNueue Angular";
			}
			canvas {
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%
			}
		</style>
	</head>
	<body>
		<canvas id="scene"></canvas>
	</body>
</html>
<script>
let head = document.head;
function loadScript(src, type = "text/javascript") {
	return new Promise((resolve, reject) => {
		let script = document.createElement("script");
		script.src = src;
		script.type = type;
		script.async = true;
		script.addEventListener("load", () => {
			head.removeChild(script);
			resolve(script);
		});
		script.addEventListener("error", () => {
			reject(script);
		});
		head.appendChild(script);
	});
}
async function startScript() {
	try{
		await loadScript("src_min/main.js");
	}catch(error) {
		await loadScript("src/main.js", "module");
	}
}
let scope = "/";
async function start() {
	if(! ("serviceWorker" in navigator)) {
		await navigator.serviceWorker.register("/worker.js", {scope});
		startScript();
	}else{
		startScript();
	}
}
start();
</script>