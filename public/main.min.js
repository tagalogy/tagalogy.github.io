class t{constructor(t={}){this.listeners=new Map;for(let e in t)"on"==e.substring(0,2)&&this.on(e.substring(2),t[e])}getHandler(t){let e=this.listeners,i=e.get(t);return i||e.set(t,i=[]),i}on(t,e){this.getHandler(t).push(e)}once(t,e){return new Promise((i,s)=>{let a=()=>{this.off(t,a),e&&e(),i()};this.on(t,a)})}off(t,e){let i=this.getHandler(t),s=i.indexOf(e);s>=0&&i.splice(s,1)}invoke(t){let e=this.getHandler(t);for(let t of e)t.call(this)}}const e=Math.PI;function i(t){return e=>e<=0?0:e>=1?1:t(e)}let s=i(t=>(Math.sin((t-.5)*e)+1)/2),a=i(t=>Math.sin((t-1)*e/2)+1),n=i(t=>Math.sin(t*e/2)),h=i(t=>1-2**(-10*t));function o(t,e,i){return t*(i-e)+e}function r(){return+new Date}function l(t){return new Promise(e=>{setTimeout(()=>{e(t)},t)})}class d extends t{constructor(t={}){super(t),this.boundAnimID=-1,this.opacityAnimID=-1,this.visible=!0,this.children=[],this.parent=null,this.scene=null,this._z=0,this.setOpacity(t),this.setBound(t);let{parent:e,child:i,children:s,z:a=0}=t;e&&this.addTo(e),i&&this.addChild(i),s&&this.addChildren(s),this.z=a}get z(){return this._z}set z(t){this._z=t;let{parent:e}=this;e&&e.updateDrawOrder()}setBound(t){this.updateBound=u(t)}animateBound(t,e,i){return this.animateUpdateBound(u(t),e,i)}animateUpdateBound(t,e=400,i=s){clearTimeout(this.boundAnimID);let a=this.updateBound,n=r();return this.updateBound=function(){let s=i((r()-n)/e);a.call(this);let{x:h,y:l,width:d,height:u}=this;t.call(this);let{x:c,y:p,width:f,height:y}=this;this.x=o(s,h,c),this.y=o(s,l,p),this.width=o(s,d,f),this.height=o(s,u,y)},this.boundAnimID=setTimeout(()=>{this.updateBound=t},e),l(e)}setOpacity(t){this.updateOpacity=c(t)}animateOpacity(t,e,i){return this.animateUpdateOpacity(c(t),e,i)}animateUpdateOpacity(t,e=400,i=s){clearTimeout(e);let a=this.updateOpacity,n=r();return this.updateOpacity=function(){let s=i((r()-n)/e);a.call(this);let{opacity:h}=this;t.call(this);let{opacity:l}=this;this.opacity=o(s,h,l)},this.opacityAnimID=setTimeout(()=>{this.updateOpacity=t},e),l(e)}fadeIn(t,e){return this.visible=!0,animateOpacity(1,t,e)}fadeOut(t,e){return animateOpacity(0,t,easing).then(()=>{this.visible=!1})}forEachDescendant(t,e=!1){e&&t(this);for(let e of this.children)e.forEachDescendant(t,!0)}updateDrawOrder(t=!1){let{children:e}=this;if(e.sort((t,e)=>t.z-e.z),t)for(let t of e)t.updateDrawOrder(!0)}draw(t,e=!0){this.visible&&(this.updateOpacity(),t.globalAlpha=this.opacity,e&&this.drawChildren(t))}drawChildren(t){for(let e of this.children)e.draw(t)}setscene(t){this.scene=t;for(let e of this.children)e.setscene(t)}addChild(t,e=!0){if(t instanceof w)throw new Error("Unable to add scene as a child");t.remove(!1),t.parent=this,t.setscene(this.scene),this.children.push(t),e&&this.updateDrawOrder()}addChildren(t,e=!0){for(let e of t)this.addChild(e,!1);e&&this.updateDrawOrder()}addTo(t,e){t.addChild(this,e)}removeChild(t,e=!0){if(t.parent==this){t.parent=null,e&&t.setscene(null);let{children:i}=this;i.splice(i.indexOf(t),1)}}remove(t=!0){let{parent:e}=this;e&&e.removeChild(this,t)}removeChildren(t){for(let e of t)this.removeChild(e)}removeAllChildren(){this.removeChildren([...this.children])}hitTest(t,e){this.updateBound();let{x:i,y:s,width:a,height:n}=this;return t>i&&e>s&&t<i+a&&e<s+n}}function u(t){let{updateBound:e}=t;if(e)return e;let{x:i=0,y:s=0,width:a=0,height:n=0,isPositionRelative:h=!0,isScaleRelative:o=!0}=t;return function(){let t,e,r,l,{parent:d}=this;d?(d.updateBound(),t=h?d.x:0,e=h?d.y:0,r=o?d.width:1,l=o?d.height:1):(t=0,e=0,r=1,l=1),this.x=t+r*i,this.y=e+l*s,this.width=r*a,this.height=l*n}}function c(t){"number"==typeof t&&(t={opacity:t});let{updateOpacity:e}=t;if(e)return e;let{opacity:i=1,isOpacityRelative:s=!0}=t;return function(){let{parent:t}=this;t&&s?(t.updateOpacity(),this.opacity=i*t.opacity):this.opacity=i}}class p{constructor(t){this.playing=!0;let e=()=>{this.playing&&(t(),requestAnimationFrame(e))};requestAnimationFrame(e)}stop(){this.playing=!1}}class f{constructor(t={}){this.colorAnimID=-1,this.setColor(t)}getString(){this.updateColor();let{red:t,green:e,blue:i,alpha:s}=this;return`rgba(${t}, ${e}, ${i}, ${s})`}toString(){return this.getString()}setColor(t){this.updateColor=y(t)}animateColor(t,e,i){return this.animateUpdateColor(y(t),e,i)}animateUpdateColor(t,e=400,i=s){clearTimeout(this.colorAnimID);let a=this.updateColor,n=r();return this.updateColor=function(){let s=i((r()-n)/e);a.call(this);let{red:h,green:l,blue:d,alpha:u}=this;t.call(this);let{red:c,green:p,blue:f,alpha:y}=this;this.red=o(s,h,c),this.green=o(s,l,p),this.blue=o(s,d,f),this.alpha=o(s,u,y)},this.colorAnimID=setTimeout(()=>{this.updateColor=t},e),l(e)}}function y(t){if("string"==typeof t&&"#"==(t=t.trim())[0]){let e,i,s,a,n=t.substr(1),h=parseInt(n,16);switch(n.length){case 3:e=17*(h>>8&15),i=17*(h>>4&15),s=17*(h>>0&15),a=1;break;case 4:e=17*(h>>12&15),i=17*(h>>8&15),s=17*(h>>4&15),a=(h>>0&15)/15;break;case 6:e=h>>16&255,i=h>>8&255,s=h>>0&255,a=1;break;case 8:e=h>>24&255,i=h>>16&255,s=h>>8&255,a=(h>>0&255)/255}return function(){this.red=e,this.green=i,this.blue=s,this.alpha=a}}let{updateColor:e}=t;if(e)return e;let{red:i=255,green:s=255,blue:a=255,alpha:n=1}=t;return function(){this.red=i,this.green=s,this.blue=a,this.alpha=n}}class w extends d{constructor(t={}){super(t),this.scene=this;let{fill:e="#0000",canvas:i,alpha:s=!0,scale:a=1}=t;this.scale=a,this.fill=e instanceof f?e:new f(e),this.canvas=i,t.autoresize&&(this.updateBound=function(){this.x=0,this.y=0,this.width=i.clientWidth*a,this.height=i.clientHeight*a});let n=this.context=i.getContext("2d",{alpha:s,antialias:!0});n.imageSmoothingEnabled=!0,this.frame=new p(()=>{this.draw(n)}),"click mouseup mousedown mousemove".split(" ").forEach(t=>{i.addEventListener(t,e=>{e.preventDefault();let{pageX:i,pageY:s}=e;this.forEachDescendant(e=>{e.hitTest(i*a,s*a)&&(e.invoke(t),"mousedown"==t&&e.invoke("interactdown"),"mouseup"==t&&e.invoke("interactup"))})})}),i.addEventListener("touchmove",t=>{t.preventDefault()}),"touchstart touchend".split(" ").forEach(t=>{i.addEventListener(t,e=>{e.preventDefault();let i=Array.from(e.changedTouches);this.forEachDescendant(e=>{i.some(t=>e.hitTest(t.pageX*a,t.pageY*a))&&("touchstart"==t&&e.invoke("interactdown"),"touchend"==t&&e.invoke("interactup"))})})})}draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),this.updateBound();let{canvas:i,width:s,height:a}=this;i.width=s,i.height=a,t.clearRect(0,0,s,a),t.fillStyle=this.fill.getString(),t.fillRect(0,0,s,a),e&&this.drawChildren(t)}}let g=Math.min;class m extends d{constructor(t={}){super(t);let{ratio:e}=t;this.updateBound=function(){let{parent:t}=this,{x:i,y:s,width:a,height:n}=t,h=g(a/e,n),o=h*e;this.x=i+(a-o)/2,this.y=s+(n-h)/2,this.width=o,this.height=h}}}let b={},T=(x=["./asset/title.png"],Promise.all(x.map(t=>(function(t,e=""){return new Promise((i,s)=>{let a=new Image;a.src=t,a.alt=e,a.addEventListener("load",(function(){i(a)})),a.addEventListener("error",(function(){s(`Unable to load ${e} from ${t}`)}))})})(t))));var x;T.then(t=>{b.TITLE_PNG=t[0]});let S={TRANSPARENT:new f("#0000"),WHITE:new f("#fff"),BLACK:new f("#000"),PH_BLUE:new f("#0038a8"),SKY_BLUE:new f("#0f5fff"),PH_RED:new f("#ce1126"),PH_YELLOW:new f("#fdc116")};const C="#0000";class k extends d{constructor(t={}){super(t);let{fill:e=new f(C),line:i=new f(C),cap:s="butt",join:a="miter",dash:n=[],dashSpeed:h=0}=t;this.fill=e instanceof f?e:new f(e),this.line=i instanceof f?i:new f(i),this.cap=s,this.join=a,this.dash=n,this.dashStartOffset=0,this._dashSpeed=0,this.dashStartTime=r(),this.dashSpeed=h,this.setThickness(t)}setThickness(t){this.updateThickness=function(t){if("number"==typeof t)return function(){return t};let{updateThickness:e}=t;if(e)return e;let{thickness:i=2}=t;return function(){this.thickness=i}}(t)}get dash(){return this._dash}set dash(t){this._dash=t;let e=0;for(let i of t)e+=i;this.dashSum=e}get dashSpeed(){return this._dashSpeed}set dashSpeed(t){this._dashSpeed=t,this.dashStartOffset=this.getDashOffset(),this.dashStartTime=r()}getDashOffset(){return((r()-this.dashStartTime)*this._dashSpeed+this.dashStartOffset)%this.dashSum}draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),this.updateThickness();let{fill:i,line:s,cap:a,join:n,thickness:h,dash:o}=this;t.fillStyle=i.getString(),t.strokeStyle=s.getString(),t.lineCap=a,t.lineJoin=n,t.lineWidth=h,t.setLineDash(o.map(t=>t*h)),t.lineDashOffset=this.getDashOffset()*h,e&&this.drawChildren(t)}}let B=Math.min;class v extends k{constructor(t={}){super(t),this.setRadius(t)}setRadius(t){this.updateRadius=function(t){if("number"==typeof t)return function(){return t};let{updateRadius:e}=t;if(e)return e;let{radius:i=0,isRadiusRelative:s=!0}=t;return function(){if(s){let{width:t,height:e}=this;this.radius=B(t,e)*i}else this.radius=i}}(t)}draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),this.updateBound(),this.updateRadius();let{radius:i,x:s,y:a,width:n,height:h}=this,o=s+n/2,r=a+h/2,l=s+n,d=a+h;t.beginPath(),t.moveTo(o,a),t.arcTo(l,a,l,r,i),t.lineTo(l,r),t.arcTo(l,d,o,d,i),t.lineTo(o,d),t.arcTo(s,d,s,r,i),t.lineTo(s,r),t.arcTo(s,a,o,a,i),t.closePath(),t.fill(),t.stroke(),e&&this.drawChildren(t)}}class A extends d{constructor(t={}){super(t);let{style:e="",weight:i="",font:s="sans-serif",color:a="#000",wrap:n=!1,align:h="center",baseline:o="middle",content:r=""}=t;this.content=r,this.style=e,this.weight=i,this.font=s,this.align=h,this.baseline=o,this.wrap=n,this.color=a instanceof f?a:new f(a),this.setSize(t)}setSize(t){this.updateSize=function(t){if("number"==typeof t)return function(){return t};let{updateSize:e}=t;if(e)return e;let{size:i=10,isSizeRelative:s=!0}=t;return function(){this.size=s?i*this.height:i}}(t)}draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),t.fillStyle=this.color.getString(),this.updateSize();let{content:i,size:s,style:a,weight:n,font:h,wrap:o,align:r,baseline:l}=this;t.textAlign=r,t.textBaseline=l,"string"==typeof h&&(h=[h]),h=h.map(t=>`"${t}"`),t.font=`${a} ${n} ${s}px ${h.join(" ")}`,this.updateBound();let d,u,{x:c,y:p,width:f,height:y}=this;switch(r){case"left":d=c;break;case"center":d=c+f/2;break;case"right":d=c+f}switch(l){case"top":u=p;break;case"middle":u=p+y/2;break;case"bottom":u=p+y}if(o){let e=function(t,e,i){for(var s=e.split(E),a=[],n=s[0],h=1;h<s.length;h++){var o=s[h];t.measureText(n+" "+o).width<i?n+=" "+o:(a.push(n),n=o)}return a.push(n),a}(t,i,f),a=e.length;switch(l){case"middle":u-=a*s/2;break;case"bottom":u-=a*s}for(let i=0;i<a;i++)t.fillText(e[i],d,u+s*i)}else t.fillText(i,d,u);e&&this.drawChildren(t)}}let E=/\s+/;let P,K,O=Math.min;class L extends k{draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),this.updateBound();let{x:i,y:s,width:a,height:n}=this;t.fillRect(i,s,a,n),t.strokeRect(i,s,a,n),e&&this.drawChildren(t)}}class D extends k{constructor(t={}){super(t),this.coordsAnimID=-1,this.setCoords(t)}setCoords(t){this.updateCoords=function(t){let{updateCoords:e}=t;if(e)return e;let{x0:i=0,y0:s=0,x1:a=0,y1:n=0}=t;return function(){this.updateBound();let{x:t,y:e,width:h,height:o}=this;this.x0=t+h*i,this.y0=e+o*s,this.x1=t+h*a,this.y1=e+o*n}}(t)}animateCoords(t,e,i){return this.animateUpdateCoords(getCoordsWrapper(t),e,i)}animateUpdateCoords(t,e=400,i=SINE){clearTimeout(this.coordsAnimID);let s=this.updateCoords,a=r();return this.updateCoords=function(){let n=i((r()-a)/e);s.call(this);let{x0:h,y0:l,x1:d,y1:u}=this;t.call(this);let{x0:c,y0:p,x1:f,y1:y}=this;return{x0:o(n,h,c),y0:o(n,l,p),x1:o(n,d,f),y1:o(n,u,y)}},this.coordsAnimID=setTimeout(()=>{this.updateCoords=t},e),new l(e)}draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),this.updateCoords();let{x0:i,y0:s,x1:a,y1:n}=this;t.beginPath(),t.moveTo(i,s),t.lineTo(a,n),t.stroke(),e&&this.drawChildren(t)}}class R extends D{constructor(t={}){super(t),this.setCoords({x0:0,y0:.5,x1:1,y1:.5})}}class M extends t{constructor(t={}){super(t),this.stopped=!1,this.paused=!1,this.startTime=r(),this.pauseStartTime=NaN,this.pauseTime=0,this.timeWhenPaused=0}get time(){return this.paused?this.timeWhenPaused:r()-this.startTime-this.pauseTime}pause(){this.paused||(this.timeWhenPaused=this.time,this.pauseStartTime=r(),this.paused=!0,this.invoke("pause"))}play(){!this.stopped&&this.paused&&(this.pauseTime+=r()-this.pauseStartTime,this.paused=!1,this.invoke("play"))}toggle(){this.paused?this.play():this.pause()}stop(){this.pause(),this.stopped=!0,this.invoke("stop")}timeout(t){return new Promise((e,i)=>{let s=-1,a=this.time,n=t,h=()=>{s=setTimeout(()=>{this.off("play",h),this.off("pause",o),e()},n)},o=()=>{n-=this.time-a,a=this.time,clearTimeout(s)};this.paused()||h(),this.on("play",h),this.on("pause",o),this.once("stop",()=>{i()})})}}new L({x:0,y:0,width:1,height:1,fill:S.BLACK,child:new m({ratio:.6,isOpacityRelative:!1,opacity:1,child:P=new v({fill:S.WHITE,radius:1/16,line:S.BLACK,dash:[2,2],updateThickness:ft,children:[K=new A({x:1/8,y:1/8,width:.75,height:3/8,wrap:!0,align:"left",baseline:"middle",font:"ComicNueue Angular",weight:"bold",size:.25,color:S.BLACK})]})})});let I=new L({x:0,y:0,width:1,height:1,fill:new f({red:255,green:255,blue:255,alpha:.9}),child:new m({ratio:.6,child:new A({x:0,y:.4,width:1,height:.2,font:"ComicNueue Angular",weight:"bold",size:.5,content:"nakahinto",color:S.BLACK})})});const H=["Abante","Abelyana","Abiso","Ahedres","Ahente","Alemanya","Amarilyo","Antena","Aparador","Asoge","Asul","Asupre","Atenas","Baryo","Baso","Basura","Bentilador","Bisagra","Bisikleta","Bruha","Bulsa","Busina","Britanya","Datos","Departamento","Dinero","Deskaril","Diyos","Duwende","Diyaryo","Ebanghelyo","Edad","Ekolohiya","Ekonomiya","Ekwador","Elyo","Embahada","Embahador","Ensalada","Eroplano","Espada","Espanyol","Español","Espongha","Estados","Estadistika","Estupido","Garahe","Gasolina","Gastos","Gitara","Gobyerno","Guwapo","Giyera","Hapon","Hapones","Hardin","Hardinero","Hepe","Heringgilya","Huwes","Idroheno","Industriya","Ingles","Inglatera","Intindi","Kalabasa","Kaloriya","Kamelyo","Kampeon","Kandidato","Kapasidad","Kapilya","Keso","Kloro","Kobalto","Kolehiyo","Kolesterol","Konstitusyon","Kontrabando","Konsepto","Kordero","Korte","Kotse","Awto","Kumusta","Kuweba","Kuwenta","Lapis","Libra","Lingguwistika","Loko","Lugar","Luho","Maleta","Mani","Mantika","Mantsa","Margarina","Matematika","Matematiko","Memorya","Militar","Minuto","Miyembro","Monarkiya","Motorsiklo","Musika","Mustasa","Nasyonalista","Obispo","Oksiheno","Olanda","Onsa","Opisyal","Otel","Pabrika","Pamilya","Panderetas","Pantalon","Papel","Parol","Parke","Pasaporte","Payaso","Pelikula","Pilduras","Pilipinas","Piso","Porke","Probinsiya","Presidente","Presko","Protina","Pulgada","Pulisya","Puwede","Puwera","Radyo","Realidad","Relo","Republika","Sabadista","Sapatos","Sardinas","Sarado","Selyo","Sentimyento","Senyales","Sikolohiya","Sim","Simple","Sipilyo","Siyudad","Sundalo","Sustansya","Sustento","Suweldo","Tableta","Tangke","Tarheta","Tasa","Teklado","Tela","Telebisyon","Telepono","Tiya","Tiyo","Tsino","Tsinelas","Tisa","Tsismis","Tumbaga","Unibersidad","Welga","Yelo","Yodo","Agila","Ahensiya","Ambisyoso","Andar","Arina","Arko","Armas","Asno","Baka","Bakasyon","Barko","Basura","Berde","Bulkan","Diperensiya","Direktor","Diyos","Ebanghelyo","Edad","Edukasyon","Ehersisyo","Espanya","Estudyante","Puwersa","Hustisya","Impluwensiya","Impiyerno","Inutil","Kabalyero","Kabayo","Kalbo","Kampana","Kandila","Karne","Kasal","Keso","Kutis","Kuwadrado","Labi","Lengguwahe","Libro","Mansanas","Merkado","Mundo","Multa","Museo","Negosyo","Numero","Oras","Ordinaryo","Ospital","Padre","Pari","Peligro","Pista","Piyesta","Reyna","Sabon","Sebo","Selebrasyon","Sementeryo","Serbesa","Sereso","Saserdote","Silya","Simbolo","Sinturon","Siyensiya","Suwerte","Transportasyon","Triyanggulo","Trigo","Ubas","Unibersidad","Yero","Angkla","Anghel","Balyena","Bibliya","Bibliyoteka","Biyolohiya","Bodega","Katoliko","Kristo","Kristiyano","Eksena","Eskuwela","Obispo","Makina","Parokya","Selos","Teknolohiya"].map(t=>t.toUpperCase());let z="\n    b  c  d  f  g  h  j  k  l  m  n  p  ñ  ng  q  r  s  t  v  w  x  y  z\n       ch                                            sh\n    bl cl dl fl gl       kl          pl                 tl vl\n    br cr dr fr gr       kr          pr                 tr vr\n                                                        ts\n".toUpperCase().trim().split(/\s+/);z.push("");let U=/^[BCDFGHJKLMNÑPQRSTVWXYZ]*|[BCDFGHJKLMNÑPQRSTVWXYZ]*$/g,N=/^[BCDFGHJKLMNÑPQRSTVWXYZ]*$/,W=/[BCDFGHJKLMNÑPQRSTVWXYZ]+|[AEIOU]/g,_=/[AEIOU]/,Y=/[^\-]+|\-+/g;function G(t){if(t=t.toUpperCase(),N.test(t))return[t];let[e,i]=t.match(U),s=e,a=[];for(let e of t.replace(U,"").match(W))if(_.test(e))a.push(s+e),s="";else for(let t=0,i=e.length;t<=i;t++){let i=e.substring(0,t),n=e.substring(t);if(z.indexOf(n)>=0){a[a.length-1]+=i,s=n;break}}return a[a.length-1]+=i,a}let $,j=H.length,F=new A({font:"ComicNueue Angular",weight:"bold",size:.5}),X=new d;let J,q,Q,V,Z,tt=[function(){$&&F.off("interactup",$),F.content="",F.addTo(at),F.setBound({x:1,y:0,width:1,height:.25}),F.animateBound({x:0,y:0,width:1,height:.25},400,h),X.addTo(at),X.setBound({x:1,y:.25,width:1,height:.75}),X.animateBound({x:0,y:.25,width:1,height:.75},400,h);let t=[],e=function(t){let e=[];for(let i of t.match(Y))if("-"==i)e.push("-");else for(let t of G(i))e.push(t);return e}(H[Math.floor(Math.random()*j)]);e.sort(()=>Math.random()-Math.random());let i=e.length;e.forEach((e,s)=>{e=e.toLowerCase();let n=new f(S.TRANSPARENT),h=new f(S.PH_BLUE),o=new f(S.WHITE),r=new d({x:0,y:(4-s)/5,width:1,height:.2,child:new v({x:1/8,y:1/8,width:.75,height:.75,dash:[2,2],dashSpeed:.004,fill:h,line:n,updateThickness:ft,radius:.5,child:new A({x:0,y:0,width:1,height:1,font:"ComicNueue Angular",weight:"bold",color:o,size:.6,content:e})}),oninteractup(){J.paused||(this.pressed?(this.unpress(),t.splice(t.lastIndexOf(this.content),1),F.content=t.join("")):(this.pressed=!0,t.push(this.content),F.content+=this.content,n.setColor(S.PH_BLUE),h.setColor(S.WHITE),o.setColor(S.PH_BLUE),t.length>=i&&H.indexOf(t.join("").toUpperCase())>=0&&async function(t){q.content=""+(+q.content+1),t?(await t,nt()):nt()}(async function(){F.animateBound({x:-1,y:0,width:1,height:.25},200,a),X.animateBound({x:-1,y:.25,width:1,height:.75},200,a),await l(200),X.removeAllChildren(),F.remove(),X.remove()}())))}});r.content=e,r.unpress=()=>{r.pressed=!1,n.setColor(S.TRANSPARENT),h.setColor(S.PH_BLUE),o.setColor(S.WHITE)},r.addTo(X)});let{children:s}=X;$=()=>{if(J.paused)return;if(t.length<=0)return;let e=t[t.length-1];t.pop(),F.content=t.join("");for(let t of s)if(t.content==e&&t.pressed){t.unpress();break}},F.on("interactup",$)}],et=tt.length,it=new f(S.WHITE),st=new d({children:[new R({x:0,y:1,width:1,height:0,line:S.BLACK,dash:[4,4],dashSpeed:.002,updateThickness:ft}),new d({x:0,y:0,width:1/3,height:1,child:Q=new d({x:.3,y:.3,width:.4,height:.4,children:[V=new L({x:0,y:0,width:1/3,height:1,fill:it,line:S.BLACK,updateThickness:ft}),Z=new L({x:2/3,y:0,width:1/3,height:1,fill:it,line:S.BLACK,updateThickness:ft})]}),oninteractdown(){J.paused||it.setColor(S.SKY_BLUE)},oninteractup(){J.paused||(it.setColor(S.WHITE),async function(){J.pause(),await async function(){I.addTo(ct),I.setOpacity(0),await I.animateOpacity(1,200),await I.once("interactup"),await I.animateOpacity(0,200),I.remove()}(),J.play()}())}}),new d({x:1/3,y:0,width:1/3,height:1,child:new v({x:.2,y:.2,width:.6,height:.6,fill:S.PH_YELLOW,radius:.2,child:q=new A({x:0,y:0,width:1,height:1,weight:"bold",font:"ComicNueue Angular",color:S.BLACK,size:.6,content:"0"})})})]}),at=new d;function nt(){tt[Math.floor(Math.random()*et)]()}let ht=!1,ot=new class extends d{constructor(t={}){super(t),this.source=t.source;let{imageScaling:e="fit"}=t;this.imageScaling=e}draw(t,e=!0){if(!this.visible)return;super.draw(t,!1),this.updateBound();let{source:i,imageScaling:s}=this,{naturalWidth:a,naturalHeight:n}=i,{x:h,y:o,width:r,height:l}=this;if("fit"==s){let e=O(r/a,l/n),s=e*a,d=e*n;t.drawImage(i,h+(r-s)/2,o+(l-d)/2,s,d)}e&&this.drawChildren(t)}},rt=new f,lt=new v({fill:rt,cap:"flat",join:"miter",line:S.BLACK,dash:[4,4],dashSpeed:.004,updateThickness:ft,radius:.5,child:new A({x:0,y:0,width:1,height:1,weight:"bold",font:"ComicNueue Angular",color:S.BLACK,size:.6,content:"simulan"}),oninteractdown(){rt.setColor(S.WHITE)},oninteractup(){rt.setColor(S.PH_YELLOW),function(){if(!ht)return;lt.animateBound({x:1/6,y:1,width:4/6,height:.1},200,a).then(()=>{lt.remove()}),ot.animateBound({x:1/12,y:-.8,width:10/12,height:.7},200,a).then(()=>{ot.remove()}),l(200).then(()=>{J=new M,st.addTo(pt),st.setBound({isPositionRelative:!0,isScaleRelative:!0,x:0,y:-.2,width:1,height:.2}),st.animateBound({isPositionRelative:!0,isScaleRelative:!0,x:0,y:0,width:1,height:.2},400,h),at.setBound({isPositionRelative:!0,isScaleRelative:!0,x:0,y:1,width:1,height:.8}),at.addTo(pt),at.animateBound({isPositionRelative:!0,isScaleRelative:!0,x:0,y:.2,width:1,height:.8},400,h),nt()}),ht=!1}()}});let dt=new R({cap:"flat",join:"miter",line:S.BLACK,dash:[4,4],dashSpeed:.01,updateThickness:ft});let ut=document.querySelector("canvas#scene"),ct=new w({fill:"#fff",canvas:ut,alpha:!1,autoresize:!0,ratio:1}),pt=new m({ratio:.6,parent:ct});function ft(){this.thickness=pt.width/100}(async function(t){dt.addTo(pt),dt.setBound({x:2/6,y:1,width:2/6,height:.2}),await dt.animateBound({x:2/6,y:.8,width:2/6,height:.2},200,n),await t,await dt.animateBound({x:2/6,y:1,width:2/6,height:.2},200,a),dt.remove()})(T).then(()=>{ht||(ot.source=b.TITLE_PNG,ot.setBound({x:1/12,y:-.8,width:10/12,height:.7}),ot.addTo(pt),ot.animateBound({x:1/12,y:0,width:10/12,height:.7},400,h),rt.setColor("#fdc116"),lt.setBound({x:1/6,y:1,width:4/6,height:.1}),lt.addTo(pt),lt.animateBound({x:1/6,y:.7,width:4/6,height:.1},400,h),ht=!0)});export{ut as canvas,pt as safeArea,ct as scene,ft as updateThickness};
