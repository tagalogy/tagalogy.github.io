class EventTarget{constructor(option={}){this.listeners=new Map;for(let name in option)if(name.substring(0,2)=="on")this.on(name.substring(2),option[name])}getHandler(name){let listeners=this.listeners;let handlers=listeners.get(name);if(!handlers)listeners.set(name,handlers=[]);return handlers}on(name,handler){let handlers=this.getHandler(name);handlers.push(handler)}once(name,handler){return new Promise((resolve,reject)=>{let sub=()=>{this.off(name,sub);if(handler)handler();resolve()};this.on(name,sub)})}off(name,handler){let handlers=this.getHandler(name);let index=handlers.indexOf(handler);if(index>=0)handlers.splice(index,1)}invoke(name){let handlers=this.getHandler(name);for(let handler of handlers)handler.call(this)}}const PI=Math.PI;function wrapper(func){return num=>{if(num<=0)return 0;if(num>=1)return 1;return func(num)}}let sine=wrapper(x=>(Math.sin((x-1/2)*PI)+1)/2);let sineIn=wrapper(x=>Math.sin((x-1)*PI/2)+1);let sineOut=wrapper(x=>Math.sin(x*PI/2));let expoOut=wrapper(x=>-(2**(x*-10))+1);function alphaToRange(alpha,min,max){return alpha*(max-min)+min}function now(){return+new Date}function timeout(delay){return new Promise(resolve=>{setTimeout(()=>{resolve(delay)},delay)})}class Object2D extends EventTarget{constructor(option={}){super(option);this.boundAnimID=-1;this.opacityAnimID=-1;this.visible=true;this.children=[];this.parent=null;this.scene=null;this._z=0;this.setOpacity(option);this.setBound(option);let{parent:parent,child:child,children:children,z:z=0}=option;if(parent)this.addTo(parent);if(child)this.addChild(child);if(children)this.addChildren(children);this.z=z}get z(){return this._z}set z(num){this._z=num;let{parent:parent}=this;if(parent)parent.updateDrawOrder()}setBound(option){this.updateBound=updateBoundWrapper(option)}animateBound(option,time,easing){return this.animateUpdateBound(updateBoundWrapper(option),time,easing)}animateUpdateBound(updateBound,time=400,easing=sine){clearTimeout(this.boundAnimID);let oldUpdateBound=this.updateBound;let startTime=now();this.updateBound=function(){let alpha=easing((now()-startTime)/time);oldUpdateBound.call(this);let{x:oldX,y:oldY,width:oldWidth,height:oldHeight}=this;updateBound.call(this);let{x:newX,y:newY,width:newWidth,height:newHeight}=this;this.x=alphaToRange(alpha,oldX,newX);this.y=alphaToRange(alpha,oldY,newY);this.width=alphaToRange(alpha,oldWidth,newWidth);this.height=alphaToRange(alpha,oldHeight,newHeight)};this.boundAnimID=setTimeout(()=>{this.updateBound=updateBound},time);return timeout(time)}setOpacity(option){this.updateOpacity=updateOpacityWrapper(option)}animateOpacity(option,time,easing){return this.animateUpdateOpacity(updateOpacityWrapper(option),time,easing)}animateUpdateOpacity(updateOpacity,time=400,easing=sine){clearTimeout(time);let oldUpdateOpacity=this.updateOpacity;let startTime=now();this.updateOpacity=function(){let alpha=easing((now()-startTime)/time);oldUpdateOpacity.call(this);let{opacity:oldOpacity}=this;updateOpacity.call(this);let{opacity:newOpacity}=this;this.opacity=alphaToRange(alpha,oldOpacity,newOpacity)};this.opacityAnimID=setTimeout(()=>{this.updateOpacity=updateOpacity},time);return timeout(time)}fadeIn(time,easing){this.visible=true;return animateOpacity(1,time,easing)}fadeOut(time,easingback){return animateOpacity(0,time,easing).then(()=>{this.visible=false})}forEachDescendant(callback,includeThis=false){if(includeThis)callback(this);for(let child of this.children)child.forEachDescendant(callback,true)}updateDrawOrder(deep=false){let{children:children}=this;children.sort((a,b)=>a.z-b.z);if(deep)for(let child of children)child.updateDrawOrder(true)}draw(context,drawChildren=true){if(!this.visible)return;this.updateOpacity();context.globalAlpha=this.opacity;if(drawChildren)this.drawChildren(context)}drawChildren(context){for(let child of this.children)child.draw(context)}setscene(scene){this.scene=scene;for(let child of this.children)child.setscene(scene)}addChild(child,updateDrawOrder=true){if(child instanceof Scene)throw new Error("Unable to add scene as a child");child.remove(false);child.parent=this;child.setscene(this.scene);this.children.push(child);if(updateDrawOrder)this.updateDrawOrder()}addChildren(children,updateDrawOrder=true){for(let child of children)this.addChild(child,false);if(updateDrawOrder)this.updateDrawOrder()}addTo(parent,updateDrawOrder){parent.addChild(this,updateDrawOrder)}removeChild(child,setscene=true){if(child.parent==this){child.parent=null;if(setscene)child.setscene(null);let{children:children}=this;children.splice(children.indexOf(child),1)}}remove(setscene=true){let{parent:parent}=this;if(parent)parent.removeChild(this,setscene)}removeChildren(children){for(let child of children)this.removeChild(child)}removeAllChildren(){this.removeChildren([...this.children])}hitTest(testX,testY){this.updateBound();let{x:x,y:y,width:width,height:height}=this;return testX>x&&testY>y&&testX<x+width&&testY<y+height}}function updateBoundWrapper(option){let{updateBound:updateBound}=option;if(updateBound)return updateBound;let{x:x=0,y:y=0,width:width=0,height:height=0,isPositionRelative:isPositionRelative=true,isScaleRelative:isScaleRelative=true}=option;return function(){let{parent:parent}=this;let offsetX,offsetY,offsetWidth,offsetHeight;if(parent){parent.updateBound();offsetX=isPositionRelative?parent.x:0;offsetY=isPositionRelative?parent.y:0;offsetWidth=isScaleRelative?parent.width:1;offsetHeight=isScaleRelative?parent.height:1}else{offsetX=0;offsetY=0;offsetWidth=1;offsetHeight=1}this.x=offsetX+offsetWidth*x;this.y=offsetY+offsetHeight*y,this.width=offsetWidth*width;this.height=offsetHeight*height}}function updateOpacityWrapper(option){if(typeof option=="number"){option={opacity:option}}let{updateOpacity:updateOpacity}=option;if(updateOpacity)return updateOpacity;let{opacity:opacity=1,isOpacityRelative:isOpacityRelative=true}=option;return function(){let{parent:parent}=this;if(parent&&isOpacityRelative){parent.updateOpacity();this.opacity=opacity*parent.opacity}else{this.opacity=opacity}}}class Frame{constructor(onframe){this.playing=true;let callback=()=>{if(!this.playing)return;onframe();requestAnimationFrame(callback)};requestAnimationFrame(callback)}stop(){this.playing=false}}class Color{constructor(option={}){this.colorAnimID=-1;this.setColor(option)}getString(){this.updateColor();let{red:red,green:green,blue:blue,alpha:alpha}=this;return`rgba(${red}, ${green}, ${blue}, ${alpha})`}toString(){return this.getString()}setColor(option){this.updateColor=updateColorWrapper(option)}animateColor(option,time,easing){return this.animateUpdateColor(updateColorWrapper(option),time,easing)}animateUpdateColor(updateColor,time=400,easing=sine){clearTimeout(this.colorAnimID);let oldUpdateColor=this.updateColor;let startTime=now();this.updateColor=function(){let alpha=easing((now()-startTime)/time);oldUpdateColor.call(this);let{red:oldRed,green:oldGreen,blue:oldBlue,alpha:oldAlpha}=this;updateColor.call(this);let{red:newRed,green:newGreen,blue:newBlue,alpha:newAlpha}=this;this.red=alphaToRange(alpha,oldRed,newRed);this.green=alphaToRange(alpha,oldGreen,newGreen);this.blue=alphaToRange(alpha,oldBlue,newBlue);this.alpha=alphaToRange(alpha,oldAlpha,newAlpha)};this.colorAnimID=setTimeout(()=>{this.updateColor=updateColor},time);return timeout(time)}}function updateColorWrapper(option){if(typeof option=="string"){option=option.trim();if(option[0]=="#"){let rawString=option.substr(1);let raw=parseInt(rawString,16);let red,green,blue,alpha;switch(rawString.length){case 3:red=(raw>>2*4&15)*17;green=(raw>>1*4&15)*17;blue=(raw>>0*4&15)*17;alpha=1;break;case 4:red=(raw>>3*4&15)*17;green=(raw>>2*4&15)*17;blue=(raw>>1*4&15)*17;alpha=(raw>>0*4&15)/15;break;case 6:red=raw>>4*4&255;green=raw>>2*4&255;blue=raw>>0*4&255;alpha=1;break;case 8:red=raw>>6*4&255;green=raw>>4*4&255;blue=raw>>2*4&255;alpha=(raw>>0*4&255)/255;break}return function(){this.red=red;this.green=green;this.blue=blue;this.alpha=alpha}}}let{updateColor:updateColor}=option;if(updateColor)return updateColor;let{red:red=255,green:green=255,blue:blue=255,alpha:alpha=1}=option;return function(){this.red=red;this.green=green;this.blue=blue;this.alpha=alpha}}class Scene extends Object2D{constructor(option={}){super(option);this.scene=this;let{fill:fill="#0000",canvas:canvas,alpha:alpha=true,scale:scale=1}=option;this.scale=scale;this.fill=fill instanceof Color?fill:new Color(fill);this.canvas=canvas;if(option.autoresize){this.updateBound=function(){this.x=0;this.y=0;this.width=canvas.clientWidth*scale;this.height=canvas.clientHeight*scale}}let context=this.context=canvas.getContext("2d",{alpha:alpha,antialias:true});context.imageSmoothingEnabled=true;this.frame=new Frame(()=>{this.draw(context)});"click mouseup mousedown mousemove".split(" ").forEach(eventName=>{canvas.addEventListener(eventName,event=>{event.preventDefault();let{pageX:x,pageY:y}=event;this.forEachDescendant(descendant=>{if(descendant.hitTest(x*scale,y*scale)){descendant.invoke(eventName);if(eventName=="mousedown")descendant.invoke("interactdown");if(eventName=="mouseup")descendant.invoke("interactup")}})})});canvas.addEventListener("touchmove",event=>{event.preventDefault()});"touchstart touchend".split(" ").forEach(eventName=>{canvas.addEventListener(eventName,event=>{event.preventDefault();let touches=Array.from(event.changedTouches);this.forEachDescendant(descendant=>{if(touches.some(touch=>descendant.hitTest(touch.pageX*scale,touch.pageY*scale))){if(eventName=="touchstart")descendant.invoke("interactdown");if(eventName=="touchend")descendant.invoke("interactup")}})})})}draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);this.updateBound();let{canvas:canvas,width:width,height:height}=this;canvas.width=width;canvas.height=height;context.clearRect(0,0,width,height);context.fillStyle=this.fill.getString();context.fillRect(0,0,width,height);if(drawChildren)this.drawChildren(context)}}let min=Math.min;class SafeArea extends Object2D{constructor(option={}){super(option);let{ratio:ratio}=option;this.updateBound=function(){let{parent:parent}=this;let{x:x,y:y,width:width,height:height}=parent;let scale=min(width/ratio,height);let finalWidth=scale*ratio;this.x=x+(width-finalWidth)/2;this.y=y+(height-scale)/2;this.width=finalWidth;this.height=scale}}}function loadImage(src,alt=""){return new Promise((resolve,reject)=>{let image=new Image;image.src=src;image.alt=alt;image.addEventListener("load",(function(){resolve(image)}));image.addEventListener("error",(function(){reject(`Unable to load ${alt} from ${src}`)}))})}function loadImages(srcs){return Promise.all(srcs.map(src=>loadImage(src)))}let images={};let assets=loadImages(["./asset/title.png"]);assets.then(rawImages=>{images.TITLE_PNG=rawImages[0]});let colors={TRANSPARENT:new Color("#0000"),WHITE:new Color("#fff"),BLACK:new Color("#000"),PH_BLUE:new Color("#0038a8"),SKY_BLUE:new Color("#0f5fff"),PH_RED:new Color("#ce1126"),PH_YELLOW:new Color("#fdc116")};const TRANSPARENT_OPTION="#0000";class Base extends Object2D{constructor(option={}){super(option);let{fill:fill=new Color(TRANSPARENT_OPTION),line:line=new Color(TRANSPARENT_OPTION),cap:cap="butt",join:join="miter",dash:dash=[],dashSpeed:dashSpeed=0}=option;this.fill=fill instanceof Color?fill:new Color(fill);this.line=line instanceof Color?line:new Color(line);this.cap=cap;this.join=join;this.dash=dash;this.dashStartOffset=0;this._dashSpeed=0;this.dashStartTime=now();this.dashSpeed=dashSpeed;this.setThickness(option)}setThickness(option){this.updateThickness=updateThicknessWrapper(option)}get dash(){return this._dash}set dash(dash){this._dash=dash;let sum=0;for(let num of dash)sum+=num;this.dashSum=sum}get dashSpeed(){return this._dashSpeed}set dashSpeed(dashSpeed){this._dashSpeed=dashSpeed;this.dashStartOffset=this.getDashOffset();this.dashStartTime=now()}getDashOffset(){return((now()-this.dashStartTime)*this._dashSpeed+this.dashStartOffset)%this.dashSum}draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);this.updateThickness();let{fill:fill,line:line,cap:cap,join:join,thickness:thickness,dash:dash}=this;context.fillStyle=fill.getString();context.strokeStyle=line.getString();context.lineCap=cap;context.lineJoin=join;context.lineWidth=thickness;context.setLineDash(dash.map(num=>num*thickness));context.lineDashOffset=this.getDashOffset()*thickness;if(drawChildren)this.drawChildren(context)}}function updateThicknessWrapper(option){if(typeof option=="number"){return function(){return option}}let{updateThickness:updateThickness}=option;if(updateThickness)return updateThickness;let{thickness:thickness=2}=option;return function(){this.thickness=thickness}}let min$1=Math.min;class RoundedRectangle extends Base{constructor(option={}){super(option);this.setRadius(option)}setRadius(option){this.updateRadius=updateRadiusWrapper(option)}draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);this.updateBound();this.updateRadius();let{radius:radius,x:minX,y:minY,width:width,height:height}=this;let midX=minX+width/2;let midY=minY+height/2;let maxX=minX+width;let maxY=minY+height;context.beginPath();context.moveTo(midX,minY);context.arcTo(maxX,minY,maxX,midY,radius);context.lineTo(maxX,midY);context.arcTo(maxX,maxY,midX,maxY,radius);context.lineTo(midX,maxY);context.arcTo(minX,maxY,minX,midY,radius);context.lineTo(minX,midY);context.arcTo(minX,minY,midX,minY,radius);context.closePath();context.fill();context.stroke();if(drawChildren)this.drawChildren(context)}}function updateRadiusWrapper(option){if(typeof option=="number"){return function(){return option}}let{updateRadius:updateRadius}=option;if(updateRadius)return updateRadius;let{radius:radius=0,isRadiusRelative:isRadiusRelative=true}=option;return function(){if(isRadiusRelative){let{width:width,height:height}=this;this.radius=min$1(width,height)*radius}else{this.radius=radius}}}class Text extends Object2D{constructor(option={}){super(option);let{style:style="",weight:weight="",font:font="sans-serif",color:color="#000",wrap:wrap=false,align:align="center",baseline:baseline="middle",content:content=""}=option;this.content=content;this.style=style;this.weight=weight;this.font=font;this.align=align;this.baseline=baseline;this.wrap=wrap;this.color=color instanceof Color?color:new Color(color);this.setSize(option)}setSize(option){this.updateSize=updateSizeWrapper(option)}draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);context.fillStyle=this.color.getString();this.updateSize();let{content:content,size:size,style:style,weight:weight,font:font,wrap:wrap,align:align,baseline:baseline}=this;context.textAlign=align;context.textBaseline=baseline;if(typeof font=="string")font=[font];font=font.map(font=>`"${font}"`);context.font=`${style} ${weight} ${size}px ${font.join(" ")}`;this.updateBound();let{x:x,y:y,width:width,height:height}=this;let finalX;switch(align){case"left":finalX=x;break;case"center":finalX=x+width/2;break;case"right":finalX=x+width;break}let finalY;switch(baseline){case"top":finalY=y;break;case"middle":finalY=y+height/2;break;case"bottom":finalY=y+height;break}if(wrap){let lines=getLines(context,content,width);let len=lines.length;switch(baseline){case"middle":finalY-=len*size/2;break;case"bottom":finalY-=len*size;break}for(let ind=0;ind<len;ind++)context.fillText(lines[ind],finalX,finalY+size*ind)}else{context.fillText(content,finalX,finalY)}if(drawChildren)this.drawChildren(context)}}function updateSizeWrapper(option){if(typeof option=="number"){return function(){return option}}let{updateSize:updateSize}=option;if(updateSize)return updateSize;let{size:size=10,isSizeRelative:isSizeRelative=true}=option;return function(){if(isSizeRelative){this.size=size*this.height}else{this.size=size}}}let SPACES=/\s+/;function getLines(context,text,maxWidth){var words=text.split(SPACES);var lines=[];var currentLine=words[0];for(var i=1;i<words.length;i++){var word=words[i];var width=context.measureText(currentLine+" "+word).width;if(width<maxWidth){currentLine+=" "+word}else{lines.push(currentLine);currentLine=word}}lines.push(currentLine);return lines}let min$2=Math.min;class Image$1 extends Object2D{constructor(option={}){super(option);this.source=option.source;let{imageScaling:imageScaling="fit"}=option;this.imageScaling=imageScaling}draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);this.updateBound();let{source:source,imageScaling:imageScaling}=this;let{naturalWidth:rawSrcWidth,naturalHeight:rawSrcHeight}=source;let{x:x,y:y,width:rawDestWidth,height:rawDestHeight}=this;if(imageScaling=="fit"){let scaleX=rawDestWidth/rawSrcWidth;let scaleY=rawDestHeight/rawSrcHeight;let scale=min$2(scaleX,scaleY);let width=scale*rawSrcWidth;let height=scale*rawSrcHeight;context.drawImage(source,x+(rawDestWidth-width)/2,y+(rawDestHeight-height)/2,width,height)}if(drawChildren)this.drawChildren(context)}}class Rectangle extends Base{draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);this.updateBound();let{x:x,y:y,width:width,height:height}=this;context.fillRect(x,y,width,height);context.strokeRect(x,y,width,height);if(drawChildren)this.drawChildren(context)}}class Line extends Base{constructor(option={}){super(option);this.coordsAnimID=-1;this.setCoords(option)}setCoords(option){this.updateCoords=updateCoordsWrapper(option)}animateCoords(option,time,easing){return this.animateUpdateCoords(getCoordsWrapper(option),time,easing)}animateUpdateCoords(updateCoords,time=400,easing=SINE){clearTimeout(this.coordsAnimID);let oldUpdateCoords=this.updateCoords;let startTime=now();this.updateCoords=function(){let alpha=easing((now()-startTime)/time);oldUpdateCoords.call(this);let{x0:oldX0,y0:oldY0,x1:oldX1,y1:oldY1}=this;updateCoords.call(this);let{x0:newX0,y0:newY0,x1:newX1,y1:newY1}=this;return{x0:alphaToRange(alpha,oldX0,newX0),y0:alphaToRange(alpha,oldY0,newY0),x1:alphaToRange(alpha,oldX1,newX1),y1:alphaToRange(alpha,oldY1,newY1)}};this.coordsAnimID=setTimeout(()=>{this.updateCoords=updateCoords},time);return new timeout(time)}draw(context,drawChildren=true){if(!this.visible)return;super.draw(context,false);this.updateCoords();let{x0:x0,y0:y0,x1:x1,y1:y1}=this;context.beginPath();context.moveTo(x0,y0);context.lineTo(x1,y1);context.stroke();if(drawChildren)this.drawChildren(context)}}function updateCoordsWrapper(option){let{updateCoords:updateCoords}=option;if(updateCoords)return updateCoords;let{x0:x0=0,y0:y0=0,x1:x1=0,y1:y1=0}=option;return function(){this.updateBound();let{x:x,y:y,width:width,height:height}=this;this.x0=x+width*x0;this.y0=y+height*y0;this.x1=x+width*x1;this.y1=y+height*y1}}class Horizontal extends Line{constructor(option={}){super(option);this.setCoords({x0:0,y0:1/2,x1:1,y1:1/2})}}class GameState extends EventTarget{constructor(option={}){super(option);this.stopped=false;this.paused=false;this.startTime=now();this.pauseStartTime=NaN;this.pauseTime=0;this.timeWhenPaused=0}get time(){if(this.paused)return this.timeWhenPaused;return now()-this.startTime-this.pauseTime}pause(){if(this.paused)return;this.timeWhenPaused=this.time;this.pauseStartTime=now();this.paused=true;this.invoke("pause")}play(){if(this.stopped||!this.paused)return;this.pauseTime+=now()-this.pauseStartTime;this.paused=false;this.invoke("play")}toggle(){if(this.paused){this.play()}else{this.pause()}}stop(){this.pause();this.stopped=true;this.invoke("stop")}timeout(time){return new Promise((resolve,reject)=>{let id=-1;let timeStart=this.time;let timeLeft=time;let onplay=()=>{id=setTimeout(()=>{this.off("play",onplay);this.off("pause",onpause);resolve()},timeLeft)};let onpause=()=>{timeLeft-=this.time-timeStart;timeStart=this.time;clearTimeout(id)};if(!this.paused())onplay();this.on("play",onplay);this.on("pause",onpause);this.once("stop",()=>{reject()})})}}let dialogBox,msgBox;let dialog=new Rectangle({x:0,y:0,width:1,height:1,fill:colors.BLACK,child:new SafeArea({ratio:3/5,isOpacityRelative:false,opacity:1,child:dialogBox=new RoundedRectangle({fill:colors.WHITE,radius:1/16,line:colors.BLACK,dash:[2,2],updateThickness:updateThickness,children:[msgBox=new Text({x:1/8,y:1/8,width:6/8,height:3/8,wrap:true,align:"left",baseline:"middle",font:"ComicNueue Angular",weight:"bold",size:1/4,color:colors.BLACK})]})})});let pauseBox=new Rectangle({x:0,y:0,width:1,height:1,fill:new Color({red:255,green:255,blue:255,alpha:9/10}),child:new SafeArea({ratio:3/5,child:new Text({x:0/6,y:4/10,width:6/6,height:2/10,font:"ComicNueue Angular",weight:"bold",size:5/10,content:"nakahinto",color:colors.BLACK})})});async function start(){pauseBox.addTo(scene);pauseBox.setOpacity(0);await pauseBox.animateOpacity(1,200);await pauseBox.once("interactup");await pauseBox.animateOpacity(0,200);pauseBox.remove()}const SPANISH=["Abante","Abelyana","Abiso","Ahedres","Ahente","Alemanya","Amarilyo","Antena","Aparador","Asoge","Asul","Asupre","Atenas","Baryo","Baso","Basura","Bentilador","Bisagra","Bisikleta","Bruha","Bulsa","Busina","Britanya","Datos","Departamento","Dinero","Deskaril","Diyos","Duwende","Diyaryo","Ebanghelyo","Edad","Ekolohiya","Ekonomiya","Ekwador","Elyo","Embahada","Embahador","Ensalada","Eroplano","Espada","Espanyol","Español","Espongha","Estados","Estadistika","Estupido","Garahe","Gasolina","Gastos","Gitara","Gobyerno","Guwapo","Giyera","Hapon","Hapones","Hardin","Hardinero","Hepe","Heringgilya","Huwes","Idroheno","Industriya","Ingles","Inglatera","Intindi","Kalabasa","Kaloriya","Kamelyo","Kampeon","Kandidato","Kapasidad","Kapilya","Keso","Kloro","Kobalto","Kolehiyo","Kolesterol","Konstitusyon","Kontrabando","Konsepto","Kordero","Korte","Kotse","Awto","Kumusta","Kuweba","Kuwenta","Lapis","Libra","Lingguwistika","Loko","Lugar","Luho","Maleta","Mani","Mantika","Mantsa","Margarina","Matematika","Matematiko","Memorya","Militar","Minuto","Miyembro","Monarkiya","Motorsiklo","Musika","Mustasa","Nasyonalista","Obispo","Oksiheno","Olanda","Onsa","Opisyal","Otel","Pabrika","Pamilya","Panderetas","Pantalon","Papel","Parol","Parke","Pasaporte","Payaso","Pelikula","Pilduras","Pilipinas","Piso","Porke","Probinsiya","Presidente","Presko","Protina","Pulgada","Pulisya","Puwede","Puwera","Radyo","Realidad","Relo","Republika","Sabadista","Sapatos","Sardinas","Sarado","Selyo","Sentimyento","Senyales","Sikolohiya","Sim","Simple","Sipilyo","Siyudad","Sundalo","Sustansya","Sustento","Suweldo","Tableta","Tangke","Tarheta","Tasa","Teklado","Tela","Telebisyon","Telepono","Tiya","Tiyo","Tsino","Tsinelas","Tisa","Tsismis","Tumbaga","Unibersidad","Welga","Yelo","Yodo"];const LATIN=["Agila","Ahensiya","Ambisyoso","Andar","Arina","Arko","Armas","Asno","Baka","Bakasyon","Barko","Basura","Berde","Bulkan","Diperensiya","Direktor","Diyos","Ebanghelyo","Edad","Edukasyon","Ehersisyo","Espanya","Estudyante","Puwersa","Hustisya","Impluwensiya","Impiyerno","Inutil","Kabalyero","Kabayo","Kalbo","Kampana","Kandila","Karne","Kasal","Keso","Kutis","Kuwadrado","Labi","Lengguwahe","Libro","Mansanas","Merkado","Mundo","Multa","Museo","Negosyo","Numero","Oras","Ordinaryo","Ospital","Padre","Pari","Peligro","Pista","Piyesta","Reyna","Sabon","Sebo","Selebrasyon","Sementeryo","Serbesa","Sereso","Saserdote","Silya","Simbolo","Sinturon","Siyensiya","Suwerte","Transportasyon","Triyanggulo","Trigo","Ubas","Unibersidad","Yero"];const GREEK=["Angkla","Anghel","Balyena","Bibliya","Bibliyoteka","Biyolohiya","Bodega","Katoliko","Kristo","Kristiyano","Eksena","Eskuwela","Obispo","Makina","Parokya","Selos","Teknolohiya"];const WORD=[...SPANISH,...LATIN,...GREEK].map(str=>str.toUpperCase());let blanko=/\s+/;let mga_unahang_katinig=`\n    b  c  d  f  g  h  j  k  l  m  n  p  ñ  ng  q  r  s  t  v  w  x  y  z\n       ch                                            sh\n    bl cl dl fl gl       kl          pl                 tl vl\n    br cr dr fr gr       kr          pr                 tr vr\n                                                        ts\n`.toUpperCase().trim().split(blanko);mga_unahang_katinig.push("");let pang_unahan_at_hulihan=/^[BCDFGHJKLMNÑPQRSTVWXYZ]*|[BCDFGHJKLMNÑPQRSTVWXYZ]*$/g;let pangkatinig_lahat=/^[BCDFGHJKLMNÑPQRSTVWXYZ]*$/;let panggrupo=/[BCDFGHJKLMNÑPQRSTVWXYZ]+|[AEIOU]/g;let pangpatinig=/[AEIOU]/;let panggrupong_may_gitling=/[^\-]+|\-+/g;function parseSingleWord(salita){salita=salita.toUpperCase();if(pangkatinig_lahat.test(salita))return[salita];let[unahang_katinig,hulihang_katinig]=salita.match(pang_unahan_at_hulihan);let kasalukuyang_katinig=unahang_katinig;let mga_pantig=[];for(let grupo of salita.replace(pang_unahan_at_hulihan,"").match(panggrupo)){if(pangpatinig.test(grupo)){mga_pantig.push(kasalukuyang_katinig+grupo);kasalukuyang_katinig=""}else{for(let pang_ilan=0,sukat=grupo.length;pang_ilan<=sukat;pang_ilan++){let kasalukuyang_hulihang_katinig=grupo.substring(0,pang_ilan);let kasalukuyang_unahang_katinig=grupo.substring(pang_ilan);if(mga_unahang_katinig.indexOf(kasalukuyang_unahang_katinig)>=0){mga_pantig[mga_pantig.length-1]+=kasalukuyang_hulihang_katinig;kasalukuyang_katinig=kasalukuyang_unahang_katinig;break}}}}mga_pantig[mga_pantig.length-1]+=hulihang_katinig;return mga_pantig}function parseWord(salita){let re=[];for(let grupo of salita.match(panggrupong_may_gitling)){if(grupo=="-"){re.push("-")}else{for(let pantig of parseSingleWord(grupo))re.push(pantig)}}return re}let wordLen=WORD.length;let inputBox=new Text({font:"ComicNueue Angular",weight:"bold",size:5/10});let buttonBox=new Object2D;let prevHandler;function start$1(){if(prevHandler)inputBox.off("interactup",prevHandler);inputBox.content="";inputBox.addTo(game);inputBox.setBound({x:1,y:0,width:3/3,height:1/4});inputBox.animateBound({x:0,y:0,width:3/3,height:1/4},400,expoOut);buttonBox.addTo(game);buttonBox.setBound({x:1,y:1/4,width:3/3,height:3/4});buttonBox.animateBound({x:0,y:1/4,width:3/3,height:3/4},400,expoOut);let input=[];let word=parseWord(WORD[Math.floor(Math.random()*wordLen)]);word.sort(()=>Math.random()-Math.random());let currentLen=word.length;word.forEach((syllable,ind)=>{syllable=syllable.toLowerCase();let lineColor=new Color(colors.TRANSPARENT);let fillColor=new Color(colors.PH_BLUE);let textColor=new Color(colors.WHITE);let currentPlace=new Object2D({x:0,y:(4-ind)/5,width:1,height:1/5,child:new RoundedRectangle({x:1/8,y:1/8,width:6/8,height:6/8,dash:[2,2],dashSpeed:4/1e3,fill:fillColor,line:lineColor,updateThickness:updateThickness,radius:1/2,child:new Text({x:0,y:0,width:1,height:1,font:"ComicNueue Angular",weight:"bold",color:textColor,size:6/10,content:syllable})}),oninteractup(){if(gameState.paused)return;if(this.pressed){this.unpress();input.splice(input.lastIndexOf(this.content),1);inputBox.content=input.join("")}else{this.pressed=true;input.push(this.content);inputBox.content+=this.content;lineColor.setColor(colors.PH_BLUE);fillColor.setColor(colors.WHITE);textColor.setColor(colors.PH_BLUE);if(input.length>=currentLen&&WORD.indexOf(input.join("").toUpperCase())>=0){nextGame(end())}}}});currentPlace.content=syllable;currentPlace.unpress=()=>{currentPlace.pressed=false;lineColor.setColor(colors.TRANSPARENT);fillColor.setColor(colors.PH_BLUE);textColor.setColor(colors.WHITE)};currentPlace.addTo(buttonBox)});let{children:children}=buttonBox;prevHandler=()=>{if(gameState.paused)return;if(input.length<=0)return;let last=input[input.length-1];input.pop();inputBox.content=input.join("");for(let child of children){if(child.content==last&&child.pressed){child.unpress();break}}};inputBox.on("interactup",prevHandler)}async function end(){inputBox.animateBound({x:-1,y:0,width:3/3,height:1/4},200,sineIn);buttonBox.animateBound({x:-1,y:1/4,width:3/3,height:3/4},200,sineIn);await timeout(200);buttonBox.removeAllChildren();inputBox.remove();buttonBox.remove()}let allGames=[start$1];let gameSize=allGames.length;let gameState;let score;let button;let pauseBar0;let pauseBar1;let pauseColor=new Color(colors.WHITE);let hud=new Object2D({children:[new Horizontal({x:0,y:1,width:1,height:0,line:colors.BLACK,dash:[4,4],dashSpeed:2/1e3,updateThickness:updateThickness}),new Object2D({x:0/3,y:0/1,width:1/3,height:1/1,child:button=new Object2D({x:3/10,y:3/10,width:4/10,height:4/10,children:[pauseBar0=new Rectangle({x:0/3,y:0/3,width:1/3,height:3/3,fill:pauseColor,line:colors.BLACK,updateThickness:updateThickness}),pauseBar1=new Rectangle({x:2/3,y:0/3,width:1/3,height:3/3,fill:pauseColor,line:colors.BLACK,updateThickness:updateThickness})]}),oninteractdown(){if(gameState.paused)return;pauseColor.setColor(colors.SKY_BLUE)},oninteractup(){if(gameState.paused)return;pauseColor.setColor(colors.WHITE);pause()}}),new Object2D({x:1/3,y:0/1,width:1/3,height:1/1,child:new RoundedRectangle({x:2/10,y:2/10,width:6/10,height:6/10,fill:colors.PH_YELLOW,radius:2/10,child:score=new Text({x:0,y:0,width:1,height:1,weight:"bold",font:"ComicNueue Angular",color:colors.BLACK,size:6/10,content:"0"})})})]});let game=new Object2D;function startGame(){gameState=new GameState;hud.addTo(safeArea);hud.setBound({isPositionRelative:true,isScaleRelative:true,x:0/3,y:-1/5,width:3/3,height:1/5});hud.animateBound({isPositionRelative:true,isScaleRelative:true,x:0/3,y:0/5,width:3/3,height:1/5},400,expoOut);game.setBound({isPositionRelative:true,isScaleRelative:true,x:0/3,y:5/5,width:3/3,height:4/5});game.addTo(safeArea);game.animateBound({isPositionRelative:true,isScaleRelative:true,x:0/3,y:1/5,width:3/3,height:4/5},400,expoOut);newGame()}function newGame(){allGames[Math.floor(Math.random()*gameSize)]()}async function nextGame(promise){score.content=""+(+score.content+1);if(promise){await promise;newGame()}else{newGame()}}async function pause(){gameState.pause();await start();gameState.play()}let ongoing=false;let title=new Image$1;let buttonColor=new Color;let startButton=new RoundedRectangle({fill:buttonColor,cap:"flat",join:"miter",line:colors.BLACK,dash:[4,4],dashSpeed:4/1e3,updateThickness:updateThickness,radius:.5,child:new Text({x:0,y:0,width:1,height:1,weight:"bold",font:"ComicNueue Angular",color:colors.BLACK,size:6/10,content:"simulan"}),oninteractdown(){buttonColor.setColor(colors.WHITE)},oninteractup(){buttonColor.setColor(colors.PH_YELLOW);end$1()}});function start$2(){if(ongoing)return;title.source=images.TITLE_PNG;title.setBound({x:1/12,y:-16/20,width:10/12,height:14/20});title.addTo(safeArea);title.animateBound({x:1/12,y:0/20,width:10/12,height:14/20},400,expoOut);buttonColor.setColor("#fdc116");startButton.setBound({x:1/6,y:10/10,width:4/6,height:1/10});startButton.addTo(safeArea);startButton.animateBound({x:1/6,y:7/10,width:4/6,height:1/10},400,expoOut);ongoing=true}function end$1(){if(!ongoing)return;startButton.animateBound({x:1/6,y:10/10,width:4/6,height:1/10},200,sineIn).then(()=>{startButton.remove()});title.animateBound({x:1/12,y:-16/20,width:10/12,height:14/20},200,sineIn).then(()=>{title.remove()});timeout(200).then(()=>{startGame()});ongoing=false}let loading=new Horizontal({cap:"flat",join:"miter",line:colors.BLACK,dash:[4,4],dashSpeed:1/100,updateThickness:updateThickness});async function load(promise){loading.addTo(safeArea);loading.setBound({x:2/6,y:10/10,width:2/6,height:2/10});await loading.animateBound({x:2/6,y:8/10,width:2/6,height:2/10},200,sineOut);await promise;await loading.animateBound({x:2/6,y:10/10,width:2/6,height:2/10},200,sineIn);loading.remove()}let canvas=document.querySelector("canvas#scene");let scene=new Scene({fill:"#fff",canvas:canvas,alpha:false,autoresize:true,ratio:1});let safeArea=new SafeArea({ratio:3/5,parent:scene});function updateThickness(){this.thickness=safeArea.width/100}load(assets).then(()=>{start$2()});export{canvas,safeArea,scene,updateThickness};